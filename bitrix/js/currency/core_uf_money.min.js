(function(){"use strict";BX.namespace("BX.Main.UF");if(typeof BX.Main.UF.TypeMoney!=="undefined"){return}BX.Main.UF.TypeMoney=function(){};BX.extend(BX.Main.UF.TypeMoney,BX.Main.UF.BaseType);BX.Main.UF.TypeMoney.USER_TYPE_ID="money";BX.Main.UF.TypeMoney.prototype.addRow=function(e,n){var a=n.previousSibling;var r=this.getClone(a,e);a.parentNode.insertBefore(r,n)};BX.Main.UF.TypeMoney.prototype.getClone=function(e,n){var a=BX.Main.UF.TypeMoney.superclass.getClone.apply(this,arguments);var r=BX.findChildrenByClassName(a,"money-editor-currency-selector-wrap",true);var t=r[0];BX.cleanNode(t);var i=BX.findChildren(a,{tagName:/INPUT|SELECT/i},true);i[0].value="";i[1].value="";var o=BX.message("CURRENCY");var l=[];var u=null;for(var y in o){if(o.hasOwnProperty(y)){var p={NAME:o[y].NAME,VALUE:y};l.push(p);if(u===null){u=p}}}var s=new BX.Currency.MoneyInput({controlId:M,input:i[1],resultInput:i[0],currency:u.VALUE});var M=Math.random();t.appendChild(BX.decl({block:"main-ui-select",name:M,items:l,value:u,params:{fieldName:M,isMulti:false},valueDelete:false}));BX.addCustomEvent(window,"UI::Select::change",function(e,n){if(e.params.fieldName===M){var a=JSON.parse(e.node.getAttribute("data-value"));if(!!a){s.setCurrency(a.VALUE)}}});return a};BX.Main.UF.Factory.setTypeHandler(BX.Main.UF.TypeMoney.USER_TYPE_ID,BX.Main.UF.TypeMoney)})();
//# sourceMappingURL=core_uf_money.map.js