{"version":3,"file":"core_webrtc.min.js","sources":["core_webrtc.js"],"names":["window","BX","webrtc","this","debug","audioMuted","videoMuted","enabled","detectedBrowser","attachMediaStream","pcConfig","oneway","lastUserMediaParams","pcConstraints","sdpConstraints","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","defaultMicrophone","defaultCamera","enableMicAutoParameters","configVideo","width","min","max","height","configVideoGroup","configVideoMobile","configVideoAfterError","callStreamSelf","callStreamMain","callStreamUsers","pc","pcStart","connected","iceCandidates","initiator","callUserId","callChatId","callToGroup","callGroupUsers","callInit","callInitUserId","callActive","callVideo","callRequestUserMedia","needPeerConnection","createAnswerTimeout","initPeerConnectionTimeout","iceCandidateTimeout","pcConnectTimeout","adapter","setTurnServer","inheritWebrtc","child","prototype","constructor","parent","navigator","mozGetUserMedia","userAgent","substr","indexOf","RTCPeerConnection","mozRTCPeerConnection","RTCSessionDescription","mozRTCSessionDescription","RTCIceCandidate","mozRTCIceCandidate","getUserMedia","bind","element","stream","mozSrcObject","play","webkitGetUserMedia","appVersion","webkitRTCPeerConnection","constraintsToChrome_","c","optional","cc","Object","keys","forEach","key","r","ideal","exact","undefined","oldname_","prefix","name","charAt","toUpperCase","slice","oc","push","mix","advanced","concat","getUserMedia_","constraints","onSuccess","onError","JSON","parse","stringify","audio","video","src","URL","createObjectURL","webkitMediaStream","getVideoTracks","videoTracks","getAudioTracks","audioTracks","MediaStreamTrack","getSources","e","func","getLocalStreams","localStreams","getRemoteStreams","remoteStreams","mediaDevices","Promise","resolve","reject","enumerateDevices","kinds","devices","map","device","label","kind","deviceId","id","groupId","MediaStream","ready","params","turnServer","turnServerFirefox","turnServerLogin","turnServerPassword","iceServers","url","credential","username","DtlsSrtpKeyAgreement","toggleAudio","changeVariable","length","i","toggleVideo","signalingReady","PULL","getPullServerStatus","log","text","desktop","arguments","message","console","startGetUserMedia","onUserMediaSuccess","echoCancellation","googEchoCancellation","googEchoCancellation2","googDAEchoCancellation","googAutoGainControl","googAutoGainControl2","mozAutoGainControl","googNoiseSuppression","googNoiseSuppression2","googHighpassFilter","googTypingNoiseDetection","googAudioMirroring","delegate","onUserMediaError","getTracks","track","mediaStreamTrackToString","stopMediaStream","userId","clearTimeout","initPeerConnection","error","createPeerConnection","setTimeout","sendOfferToPeer","setLocalAndSend","desc","setLocalDescription","a","onRemoteStreamAdded","event","setMainVideo","onRemoteStreamRemoved","onIceCandidate","candidates","onIceConnectionStateChange","onSignalingStateChange","peerConnectionError","peerConnectionReconnect","iceConnectionState","signalingState","close","deleteEvents","hasOwnProperty","mergeConstraints","cons1","cons2","merged","MozDontOfferDataChannel","prop","createOffer","onicecandidate","onIceCandidateEvent","onaddstream","onRemoteStreamAddedEvent","onremovestream","onRemoteStreamRemovedEvent","oniceconnectionstatechange","onIceConnectionStateChangeEvent","onsignalingstatechange","onSignalingStateChangeEvent","addStream","signalingPeerData","peerData","signal","type","createAnswer","setRemoteDescription","candidate","sdpMLineIndex","addIceCandidate","sdpMid","setDefaultCamera","setDefaultMicrophone","result","isFunction","mediaStream","stop"],"mappings":"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"}